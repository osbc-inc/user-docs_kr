# 첫 번째 취약점 수정 - 심층 분석

{% hint style="info" %}
**요약**\
[취약점을 수정하는 방법에 대한 간단한 예](fix-your-first-vulnerability.md)를 살펴보았습니다
{% endhint %}

이 섹션에서는 수정 프로세스를 자세히 살펴보고 시나리오를 더 자세히 살펴봄으로써 보다 일반적인 해결 프로세스를 반영합니다.

* [프로세스 순서도 예시](fix-your-first-vulnerability-deeper-dive.md#example-process-flowchart): 팀을 위한 수정 프로세스를 어떻게 설계할 수 있는지 알아보세요.
* [수정사항 업그레이드](fix-your-first-vulnerability-deeper-dive.md#fix-by-upgrade-test-your-fixes): 수정 PR을 사용하기 위한 전체 프로세스를 검토하세요.
* [제안된 수정 사항이 없는 취약점 수정하기](fix-your-first-vulnerability-deeper-dive.md#fixing-a-vulnerability-with-no-suggested-fix): Snyk에서 조치를 추천할 수 없는 경우 어떻게 해야 하는지 알아보세요.

## 프로세스 순서도 예시

다음은 팀에서 문제가 발생했을 때 어떻게 대처할 수 있는지 보여줍니다:

<figure><img src="../../.gitbook/assets/image (371).png" alt="Use this example triage process for your own processes"><figcaption><p>이 예시 분류 프로세스를 자체 프로세스에 사용하세요.</p></figcaption></figure>

팀에 동등한 프로세스를 만들어 문제를 해결할 수 있는 강력한 시스템을 갖출 것을 권장합니다.

## 업그레이드를 통한 수정: 수정 사항 테스트

Snyk이 종속성을 업그레이드하기 위해 자동으로 수정 PR을 생성하는 경우에도 다른 변경 사항과 마찬가지로 이러한 PR을 조사하고 테스트해야 합니다. 특히 중요한 업그레이드의 경우 코드의 다른 부분을 손상시키는 변경이 발생할 수 있습니다. 아무런 조사 없이 단순히 **취약점 수정**을 클릭하고 PR을 제출해서는 안 됩니다.

{% hint style="success" %}
**팁**\
일반적인 코드 유지 관리의 일환으로 정기적으로 업그레이드하여 사용하는 패키지를 최신 상태로 유지하면 코드에 영향을 미칠 수 있는 주요 변경의 필요성을 최소화할 수 있습니다.
{% endhint %}

따라서 수정의 일환으로 업그레이드의 영향을 이해하여 애플리케이션을 깨뜨리는 변경이 아닌지 확인해야 합니다. 취약점을 수정하는 것이 아니라 애플리케이션을 중단시키는 것은 바람직하지 않습니다.

### 연구 영향력

수정 사항을 완전히 이해하려면 변경 사항을 조사하고, 영향을 검토하고, 필요한 2차 변경을 코드에 적용하여 업그레이드가 문제를 일으키지 않는지 확인해야 합니다. 이를 위해서는 코드 자체를 검사해야 합니다.

{% hint style="info" %}
중요한 업그레이드의 경우 취약점을 일시적으로(예: 30일 동안) 무시하여 업그레이드의 영향을 파악할 수 있는 시간을 가질 수 있습니다.
{% endhint %}

### &#x20;코딩환경에서의 작업

물론 개발자는 Github만 사용하는 것이 아니라 [JetBrains](../../integrate-with-snyk/ide-tools/jetbrains-plugins/)와 같은 자체 IDE를 가지고 있습니다:

<figure><img src="../../.gitbook/assets/image (387) (1).png" alt="View PR impacts by inspecting code in the IDE"><figcaption><p>IDE에서 코드를 검사하여 PR 영향 보기</p></figcaption></figure>

관련 Snyk IDE 확장 프로그램([Snyk for IDEs](../../integrate-with-snyk/ide-tools/))이 있는 경우 해당 IDE에서 취약점을 검토하여 자체 코드 환경의 변경이 미치는 영향을 검사할 수 있습니다. 그런 다음 IDE에서 PR을 관리하고 이 변경 사항을 정상적으로 GitHub에 푸시할 수 있습니다.

### 처리 업그레이드 수정 사항

업그레이드를 처리하는 방법(스닉 수정 PR 조언이 실제 제출된 PR이 되는지 여부)은 자체 팀 프로세스에 따라 달라질 수 있습니다. 관련된 요소에는 업그레이드 수준(주/부/패치), 팀 코드 프로세스 및 영향을 받는 코드 영역이 포함될 수 있습니다.

예를 들어:

* 프로세스가 성숙하고 유지 관리해야 할 애플리케이션이 출시된 대규모 기존 팀은 모든 개발자가 항상 모든 업그레이드의 변경 사항을 확인하고 테스트하는 관행이 있을 수 있습니다.
* 아직 출시되지 않은 애플리케이션을 개발 중인 스타트업 팀은 신속한 개발을 위해 모든 개발자가 마이너 또는 패치 업그레이드를 처리할 수 있도록 허용할 수 있습니다.
* 주니어 개발자는 모든 변경 사항을 변경하기 전에 선임 멘토의 검토를 받아야 하지만 선임 개발자는 변경에 대해 더 많은 자율권을 가질 수 있도록 하는 프로세스를 가지고 있을 수도 있습니다.
* 업그레이드의 규모에 따라 다양한 수준의 감독/검토를 의무화하는 프로세스를 통해 유연한 접근 방식을 채택할 수도 있습니다.

{% hint style="info" %}
너무 위험하다고 판단되는 경우 코드 리포지토리 통합 설정을 구성하여 Snyk의 수정 PR 열기 기능을 비활성화할 수 있습니다(예: [GitHub 통합](../../integrate-with-snyk/git-repositories-scms-integrations-with-snyk/snyk-github-integration.md) 참조).
{% endhint %}

### 오픈 소스/애플리케이션 코드에 대한 PR

* 오픈 소스 라이브러리의 취약점을 수정하려면 일반적으로 기존 패키지를 업그레이드해야 합니다(Snyk 오픈 소스에서 스캔). 검토 후 다른 파일에서 영향(깨지는 변경 사항)을 발견할 수 있으며, 이 경우 해당 파일에 대한 추가 변경과 추가 PR이 필요합니다.
* 자체 애플리케이션 코드의 취약점(Snyk Code로 스캔)을 수정하려면 일반적으로 “이 코드 줄을 수정”하는 등 특정 영역의 품질을 개선하는 작업이 포함됩니다. 이러한 변경으로 인해 변경 사항이 변경될 가능성이 적을 수 있으며, 이러한 경우 추가 PR이 필요하지 않을 수 있습니다.

## 제안된 수정 사항이 없는 취약점 수정하기

이 경우 개발자는 취약점을 해결할 수 있는 대체 솔루션을 제공해야 합니다. 가능한 조치는 다음과 같습니다:

* 일정 기간 동안 [취약점을 무시](../../scan-with-snyk/find-and-manage-priority-issues/ignore-issues/)하여 위험을 받아들입니다. 예를 들어 이 취약점이 현재 애플리케이션에 대한 위험도가 낮은 것으로 평가되는 경우입니다:

<figure><img src="../../.gitbook/assets/Screenshot 2022-07-20 at 16.48.59.png" alt="Ignore a vulnerability temporarily"><figcaption><p>일시적으로 취약점 무시하기</p></figcaption></figure>

* 수정 사항이 제공될 때까지 취약점을 무시하세요:

<figure><img src="../../.gitbook/assets/image (70) (4) (1).png" alt="Ignore a vulnerability until a fix is available"><figcaption><p>수정 사항이 나올 때까지 취약점 무시하기</p></figcaption></figure>

* 취약점이 오탐인지 조사하고, 오탐인 경우 영구적으로 무시할 수 있습니다:

<figure><img src="../../.gitbook/assets/Screenshot 2022-07-20 at 16.46.09.png" alt="Ignore a vulnerability if it is a false positive"><figcaption><p>오탐인 경우 취약점 무시하기</p></figcaption></figure>

* 코드 변경: 취약점을 해결하기 위한 코드 솔루션을 작성하고, 오픈 소스 코드에 취약점 해결을 위한 제안을 제공하여 오픈 소스 커뮤니티에 기여합니다.
* 취약한 종속성을 다른 코드로 대체하기.

## 요약 및 다음 단계

애플리케이션의 종속성을 업그레이드하면 변경 사항이 발생할 수 있습니다. 스닉이 모든 코드를 대신 수정할 수는 없습니다. 변경하기 전에 변경 사항을 제대로 이해했는지 확인해야 합니다.

지금까지 하나의 취약점을 이해하고 해결하는 방법을 살펴보았습니다.

이제 [수정 작업 할당하기](assign-fix-work.md) 및 [보고서를 사용한 팀 작업 관리하기](use-reports-in-managing-risk.md)를 살펴보고 식별된 모든 취약점에 대해 애플리케이션에 이 작업을 어떻게 관리하고 할당할 수 있는지 알아보세요.
